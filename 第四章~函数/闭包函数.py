"""
闭包：内部函数对外部函数作用域的变量进行引用，并且外部函数返回该内部函数的特殊函数结构
闭包的构成条件
闭包必须满足三个核心条件，缺一不可：
嵌套函数：存在函数嵌套结构，即一个函数内部定义另一个函数
引用外部变量：内部函数引用了外部函数中定义的局部变量
返回内部函数：外部函数的返回值是内部函数本身
闭包的应用场景
数据封装：实现类似私有变量的功能，隐藏内部状态
延迟计算：保存计算所需的参数，在需要时再执行
函数工厂：根据不同的参数生成具有特定行为的函数
缓存结果：避免重复计算，提高程序性能
计数器：实现状态保持的计数功能
注意事项
使用nonlocal关键字才能修改外部函数的变量
闭包会保持对外部变量的引用，可能导致内存占用问题
在循环中创建闭包时要注意变量捕获的时机，避免延迟绑定问题
闭包是Python中函数式编程的重要概念，也是实现装饰器等高级特性的基础

1.可以让一个变量常驻内存
2.可以避免全局变量被修改
"""
def func():
    a=10
    def inner():     # 此处实际是调用了外层的变量函数，形成了一个闭包
        nonlocal a
        a +=1
        return a
    return inner      # 外部函数的返回值是内部函数本身
ret=func()
#函数就可以多次调用，形成不同的值，
r1=ret()   #注意此处ret后面需要“（）”来调用inner
print(r1)
r2=ret()
print(r2)
